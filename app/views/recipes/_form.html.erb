<div class="row">
  <div class="col s8 offset-s2"> 
    <%= form_with(model: recipe, local: true) do |form| %>
      <% if recipe.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(recipe.errors.count, "error") %> prohibited this recipe from being saved:</h2>

          <ul>
            <% recipe.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>
  </div>

    <div class="field col s4 offset-s2">
      <%= form.file_field :thumnail %>
    </div>

    <div class="field  col s8 offset-s2">
      <%= form.label :title %>
      <%= form.text_field :title %>
    </div>

    
    <%= form.fields_for :categories do |category| %>
      <div class="field col s2 offset-s2"> 
        <%= category.label :name %>
        <%= category.text_field :name %>
      </div>
    <% end %>
  

    <%= form.fields_for :materials do |material| %>
      <div class="field col s8 offset-s2">
        <%= material.label :material %>
        <%= material.text_field :material %>
      </div>
      <div class="field col s8 offset-s2">
        <%= material.label :serving %>
        <%= material.text_field :serving %>
      </div>
    <% end %>

    <!-- eachで繰り返し処理とレシピ番号の割り振り-->

    <%= form.fields_for :how_tos do |howto| %>
      <div class="field col s8 offset-s2">
        <%= howto.label :howto %>
        <%= howto.text_field :howto %>
      </div>
    <% end%>

    <div class="actions col s8 offset-s2">
      <%= form.submit %>
    </div>
  <% end %>
</div>